cmake_minimum_required(VERSION 2.6)
PROJECT(Marsyas)

IF(UNIX)
  IF(APPLE)
    SET(MARSYAS_MACOSX 1)
  ELSE(APPLE)
    SET(MARSYAS_LINUX 1)
  ENDIF(APPLE)
  if(WIN32)
    SET(MARSYAS_CYGWIN 1)
  ENDIF(WIN32)
ENDIF(UNIX)
IF(MSVC)
  SET(MARSYAS_WIN32 1)
ENDIF(MSVC)

SET(MARSYAS_AUDIOIO 1)
ADD_DEFINITIONS(-D__MACOSX_CORE__)

CONFIGURE_FILE(config.h.in config.h)
ADD_DEFINITIONS(-DCMAKE_CONFIG_H)
INCLUDE_DIRECTORIES(${CMAKE_BINARY_DIR})

ADD_SUBDIRECTORY(marsyas)
ADD_SUBDIRECTORY(apps)

IF (QT)
  FIND_PACKAGE (Qt4 REQUIRED)
  ADD_SUBDIRECTORY(marsyasqt)
ENDIF (QT)

